Bootstrap: docker
From: ubuntu:20.04
Stage: build

%setup
    

%files
    test.py

%environment
    export LISTEN_PORT=12345
    export LC_ALL=C

%post
	DEBIAN_FRONTEND=noninteractive
    apt-get -y update
	apt-get -y install python3 python3-setuptools python3-pip python3-matplotlib cython3 zlib1g-dev	make libncurses5-dev r-base libxml2-dev tzdata
    NOW=`date`
    echo "export NOW=\"${NOW}\"" >> $SINGULARITY_ENVIRONMENT

%runscript
    python /test.py

%startscript
    nc -lp $LISTEN_PORT

%test
    

%labels
    Author Muhammad Elhossary | elhossary@zbmed.de
    Version v0.0.1

%help
    This is contains:
	READemption